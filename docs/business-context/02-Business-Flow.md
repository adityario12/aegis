# **Business Process Flow**

**Project Name:** F&B Sales Tracking Dashboard

**Generated By:** @Business_Analyst

**Reference:** docs/business-context/01-BRD.md, docs/00-inbox/briefs-01.md

---

## **1. Overview**

This document maps the standard operating procedures (SOPs) and user workflows for the F&B Sales Tracking Dashboard based on the in-scope features defined in the BRD. The flows cover daily operations from store opening at 7:00 AM to closing at 10:00 PM, including sales transactions, target monitoring, waste logging, and mobile dashboard access for stakeholders.

---

## **2. Core Business Workflows**

### **2.1 User Authentication Flow**

flowchart TD
    A([Start: Open App/POS]) --> B[Enter Credentials]
    B --> C{Valid Credentials?}
    C -- No --> D[Show Error Message]
    D --> B
    C -- Yes --> E{Determine User Role}
    E -- Owner --> F[Owner Dashboard View]
    E -- Manager --> G[Manager Dashboard View]
    E -- Cashier --> H[Cashier/POS View]
    F --> I([End: Access Granted])
    G --> I
    H --> I

**Business Explanation:**

* All users (Owner, Manager, Cashier) must authenticate with unique credentials to access the system, ensuring accountability and data security.
* The system automatically detects the user's role and redirects them to the appropriate dashboard view with role-specific features.
* Owners and Managers gain access to the mobile dashboard with full visibility; Cashiers are limited to the POS view for transactions and stock display.
* Failed login attempts display a clear error message without revealing whether the username or password was incorrect for security purposes.

---

### **2.2 Sales Transaction Flow (POS Integration)**

flowchart TD
    A([Start: Customer Order]) --> B[Cashier Selects Products]
    B --> C[POS Displays Real-Time Stock Count]
    C --> D{Stock Available?}
    D -- No --> E[Inform Customer - Out of Stock]
    E --> A
    D -- Yes --> F[Complete Transaction on POS]
    F --> G[POS Sends Data to Dashboard]
    G --> H[Dashboard Updates: Units Sold +1]
    H --> I[Dashboard Updates: Stock Remaining -1]
    I --> J[Recalculate Target Progress %]
    J --> K([End: Transaction Logged])

**Business Explanation:**

* The POS integration automatically captures each transaction, eliminating manual data entry and ensuring real-time accuracy.
* Cashiers see remaining stock units directly on the POS screen, preventing overselling and improving customer experience.
* Each sale triggers an automatic update to the dashboard: incrementing units sold, decrementing stock remaining, and recalculating the 10-unit daily target progress.
* This flow operates continuously during store hours (7:00 AM – 10:00 PM) with no manual intervention required.

---

### **2.3 Daily Sales Target Monitoring Flow**

flowchart TD
    A([Start: Store Opens 7:00 AM]) --> B[Initialize Daily Targets]
    B --> C[Set Target: 10 Units per Product]
    C --> D[Set Revenue Target in USD]
    D --> E[Begin Sales Operations]
    E --> F{Sale Recorded?}
    F -- Yes --> G[Update Units Sold Counter]
    G --> H[Update Revenue Total]
    H --> I{Target Reached?}
    I -- Yes --> J[Display Target Achieved Indicator]
    I -- No --> K[Display Progress Bar %]
    J --> L{End of Day 10:00 PM?}
    K --> L
    F -- No --> L
    L -- No --> E
    L -- Yes --> M[Generate Daily Summary]
    M --> N([End: Day Closed])

**Business Explanation:**

* At store opening (7:00 AM), the system initializes daily targets: 10 units per product and the predefined USD revenue target.
* Throughout the day, the dashboard continuously tracks progress, displaying visual indicators (progress bars or achievement badges) to motivate staff.
* Managers and Owners can monitor progress in real-time via the mobile dashboard, enabling proactive decisions such as promotions if targets are lagging.
* At closing (10:00 PM), the system generates a daily summary showing target achievement rates for each product and overall revenue performance.

---

### **2.4 Product Waste Logging Flow**

flowchart TD
    A([Start: Waste Identified]) --> B[Staff Opens Waste Log Form]
    B --> C[Select Product from List]
    C --> D[Enter Quantity Wasted]
    D --> E[Select Reason Code]
    E --> F{Reason: Expired?}
    F -- Yes --> G[Log as Expired Waste]
    F -- No --> H{Reason: Damaged?}
    H -- Yes --> I[Log as Damaged Waste]
    H -- No --> J[Log as Other Waste]
    G --> K[Submit Log Entry]
    I --> K
    J --> K
    K --> L[System Updates Waste Report]
    L --> M[Adjust Stock Count if Needed]
    M --> N([End: Waste Logged])

**Business Explanation:**

* Staff manually log product waste through a simple form, selecting the product, quantity, and reason code (e.g., Expired, Damaged, Quality Issue, Other).
* This data feeds into the waste reduction insights, allowing managers to identify patterns (e.g., specific products with frequent expiration).
* The system may adjust the stock count if the waste wasn't captured through regular sales, ensuring inventory accuracy.
* This flow supports the KPI of reducing product waste and improving profit margins by providing visibility into waste causes.

---

### **2.5 Mobile Dashboard Access Flow (Owner/Manager)**

flowchart TD
    A([Start: Open Mobile App]) --> B[Authenticate]
    B --> C{Role: Owner or Manager?}
    C -- No --> D[Access Denied - Redirect to POS View]
    C -- Yes --> E[Load Dashboard Home]
    E --> F{Select View?}
    F -- Sales Overview --> G[Display Daily Sales vs Target]
    F -- Revenue Tracker --> H[Display Revenue vs USD Target]
    F -- Inventory Status --> I[Display Stock Levels per Product]
    F -- Waste Report --> J[Display Waste Summary]
    G --> K{Refresh or Navigate?}
    H --> K
    I --> K
    J --> K
    K -- Refresh --> E
    K -- Navigate --> F
    K -- Exit --> L([End: Close App])

**Business Explanation:**

* Owners and Managers can access the mobile dashboard remotely to monitor store performance without being physically present.
* The dashboard provides four key views: Sales Overview (units vs. target), Revenue Tracker (USD vs. target), Inventory Status (stock levels), and Waste Report.
* Data is refreshed in real-time or near-real-time based on POS integration, enabling timely business decisions.
* Cashiers do not have access to this mobile dashboard view; their interface is limited to the POS screen with stock display.

---

### **2.6 Stock Alert & Replenishment Trigger Flow**

flowchart TD
    A([Start: Continuous Monitoring]) --> B[System Checks Stock Levels]
    B --> C{Stock Below Threshold?}
    C -- No --> D[Continue Monitoring]
    D --> A
    C -- Yes --> E[Generate Low Stock Alert]
    E --> F[Display Alert on POS Screen]
    F --> G[Send Notification to Manager Mobile]
    G --> H[Manager Reviews Alert]
    H --> I{Replenishment Needed?}
    I -- Yes --> J[Manager Initiates Replenishment]
    J --> K[Update Stock Count Manually]
    K --> L([End: Stock Restored])
    I -- No --> M[Acknowledge Alert]
    M --> N([End: No Action Required])

**Business Explanation:**

* The system continuously monitors stock levels against predefined thresholds (e.g., when stock falls below 20% of daily target or a fixed minimum).
* Low stock alerts are displayed on the POS screen for cashiers and sent as push notifications to the Manager's mobile app.
* Managers review alerts and decide whether to initiate replenishment; the system does not auto-order (supplier integration is out-of-scope).
* When new stock arrives, Managers manually update the stock count in the system to maintain inventory accuracy.

---

## **3. End-to-End Daily Operations Summary**

| Time | Activity | Actor | System Action |
|------|----------|-------|---------------|
| 7:00 AM | Store Opens | Manager | Initialize daily targets (10 units/product, USD revenue) |
| 7:00 AM – 10:00 PM | Sales Transactions | Cashier | Auto-capture via POS; update stock & targets in real-time |
| Throughout Day | Monitor Targets | Manager/Owner | View progress on mobile dashboard |
| As Needed | Log Waste | Staff | Manual entry via waste log form |
| As Needed | Respond to Alerts | Manager | Review low stock alerts; initiate replenishment |
| 10:00 PM | Store Closes | Manager | Generate daily summary; review KPIs |

---

*Document End*
